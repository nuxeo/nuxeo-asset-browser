<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  class="facetedSearchBlock">

  <nxu:set var="displaySelector"
    value="#{damSearchActions.contentViewNames.size > 1}">
    <c:if test="${displaySelector}">

      <h:selectOneMenu
        value="#{damSearchActions.currentContentViewName}"
        id="damSearchSelector" styleClass="langSelect">
        <a4j:support event="onchange"
          actionListener="#{damSearchActions.refreshAndRewind()}"
          reRender="nxw_damSearchForm_2_panel,nxw_damSearchResults_2_panel,nxw_damAssetView_2_panel"
          eventsQueue="damSearchQueue" />
        <c:forEach var="contentViewHeader"
          items="#{damSearchActions.contentViewHeaders}"
          varStatus="contentViewListStatus">
          <f:selectItem itemValue="#{contentViewHeader.name}"
            itemLabel="#{nxu:test(contentViewHeader.translateTitle,
            messages[contentViewHeader.title], contentViewHeader.title)}" />
        </c:forEach>
      </h:selectOneMenu>

    </c:if>
  </nxu:set>

</div>
